function decode() {
  const input = document.getElementById('inputData').value;
  const keyStr = document.getElementById('keyInput').value;
  const output = document.getElementById('output');

  try {
    const key = parseInt(keyStr);
    if (isNaN(key)) throw 'Ключ некорректный';

    const bytes = input
      .split(',')
      .map(b => parseInt(b.trim(), 16));

    const decodedBytes = bytes.map(b => b ^ key);
    const uint8 = new Uint8Array(decodedBytes);
    const decoded = new TextDecoder('utf-8').decode(uint8);

    output.textContent = 'Результат: ' + decoded;
  } catch (e) {
    output.textContent = 'Ошибка: ' + e;
  }
}

